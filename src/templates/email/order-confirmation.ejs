<% 
const content = `
<h2>🎉 订单确认成功！</h2>

<p>亲爱的 ${username}，</p>

<p>感谢您在 ${siteName} 购物！您的订单已成功提交，我们正在为您准备商品。</p>

<div class="success-box">
    <p><strong>📋 订单信息：</strong></p>
    <p><strong>订单号：</strong>${orderNo}</p>
    <p><strong>下单时间：</strong>${new Date(orderDate).toLocaleString('zh-CN')}</p>
    <p><strong>订单金额：</strong>¥${totalAmount}</p>
</div>

<h3>📦 商品清单：</h3>
<table class="data-table">
    <thead>
        <tr>
            <th>商品名称</th>
            <th>单价</th>
            <th>数量</th>
            <th>小计</th>
        </tr>
    </thead>
    <tbody>
        <% items.forEach(item => { %>
        <tr>
            <td>${item.productName}</td>
            <td>¥${item.price}</td>
            <td>${item.quantity}</td>
            <td>¥${item.subtotal}</td>
        </tr>
        <% }); %>
    </tbody>
    <tfoot>
        <tr style="background-color: #f7fafc; font-weight: bold;">
            <td colspan="3">总计</td>
            <td>¥${totalAmount}</td>
        </tr>
    </tfoot>
</table>

<h3>🏠 收货地址：</h3>
<div class="info-box">
    <p><strong>收货人：</strong>${address.name}</p>
    <p><strong>联系电话：</strong>${address.phone}</p>
    <p><strong>收货地址：</strong>${address.province} ${address.city} ${address.district} ${address.detail}</p>
</div>

<div style="text-align: center; margin: 30px 0;">
    <a href="${siteUrl}/orders/${orderNo}" class="btn">
        📱 查看订单详情
    </a>
</div>

<h3>📋 订单状态说明：</h3>
<ul style="margin-left: 20px; color: #4a5568;">
    <li><strong>待支付：</strong>订单已提交，等待支付</li>
    <li><strong>已支付：</strong>支付成功，准备发货</li>
    <li><strong>已发货：</strong>商品已发出，正在配送</li>
    <li><strong>已送达：</strong>商品已送达，交易完成</li>
</ul>

<div class="warning-box">
    <p><strong>💡 温馨提示：</strong></p>
    <ul style="margin-left: 20px;">
        <li>我们会在商品发货后第一时间通知您</li>
        <li>如有任何问题，请及时联系客服</li>
        <li>感谢您的信任与支持！</li>
    </ul>
</div>
`;
%>

<%- include('base', { content: content, subject: '订单确认', siteName, siteUrl, supportEmail, currentYear, timestamp }) %>